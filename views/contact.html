<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GET WEB BUILD</title>
    <link rel="stylesheet" href="../static/contactstyle.css">
    <link rel="stylesheet" href="../static/style.css">
</head>
<body>
    
    <nav id="navbar">
        GetWebBuild
        <ul>
            <li> <a href="/">home</a> </li>

            <li><a href="/contact">contact</a></li>
        </ul>
    </nav>
   
    <h1>Giving a order to make website is as simple as giving oder in restraunt</h1>
   
   
    <p> currently not taking  response </p>

   <p> you can mail us if you want to order your website </p>
    </p>
    |<!-- <p>this is writrrn in pug in form of  html by vasudev</p>
    |<p> is a plian html in pug</p> -->
    <form action="/contact"  method="post"  id="contact">
        <input type="text" name="name" id="name"placeholder="enter your name">
        <input type="text" name="email" id="email"placeholder="enter your email">
        <input type="text" name="phone " id="phone number"placeholder="enter your phone number">
        <input type="time" name="time " id="time"placeholder="when can we contact you">
        
        <input type="number"name="amount" id="amount" placeholder=" your budget">
        <textarea name="discribe"id="discribe"placeholder="discribe about your website you want"  cols="30" rows="10"></textarea>
        
        <button id="btn">sumbit</button>
    </form>
    <section#imform>
    
    <!-- <h3#contactus> contact us </h3> -->
                <div class="ct">
                    <h3 id="info">you can contact us by</h3>
                    <span> email id -getwebbuildit@gmail.com

                    </span>
                    <p id="time"> we will contact you between 3pm to 8pm </p>

                    <p id="copyright">copyright Â© GetWebBuild
                          2022 . all rights reserved </p>
                 
                </div>
           


            </section>
     <script >
    const express =require("express")
const path =require("path")

const app =express()
const mongoose = require('mongoose');
const bodyparser = require( "body-parser");
const { Router } = require("express");

mongoose.connect(
    process.env.MONGODB_URI || 'mongodb://localhost/vircontact',
    {
      useNewUrlParser: true,
      useUnifiedTopology: true,
      useCreateIndex: true,
      useFindAndModify: false,
    },
  );


const port = process.env.PORT || 80;
// define mongoose schemas
var contactSchema = new mongoose.Schema({ 
    name: String ,
    email: String, 
    phone: String ,
    amount: String,
    describe: String
  });
  var contact = mongoose.model('contact', contactSchema);








app.use('/static',express.static('static'))
 app.use(express.urlencoded())

//pug specific stuff
app.set('view engine','pug')
app.set('views',path.join(__dirname,'views'))


//endpoints
// app.get('/',(req,res)=>{
//     const params ={}
//     res.status(200).render('home.pug',params);

// })
// app.get('/com',(req,res)=>{
//     const params ={}
//     res.status(200).render('com.pug',params);

// })

// app.get('/contact',(req,res)=>{
//     const params ={}
//     res.status(200).render('contact.pug',params);

// })


// app.post('/contact', (req,res)=>{
//     var  myData = new contact(req.body);
//     myData.save().then(()=>{
//         res.send("this oder has been saved ")
       
//      })
    
//  })

app.use('/static',express.static('static'))
 app.use(express.urlencoded())

//pug specific stuff
app.set('view engine','html')
app.set('views',path.join(__dirname,'views'))


//endpoints
// app.get('/',(req,res)=>{
//     // const params ={}
//     res.status(200).render('index.html');
app.get('/',function(req,res) {
//  const params ={}
     res.sendfile('./views/index.html');

})
app.get('/com',(req,res)=>{
    const params ={}
    res.status(200).render('com.pug',params);

})


//uncom
// router.get('/',function(req,res) {
//     res.sendfile(path.join(__dirname+'/index.html'));

// })
// app.get('/com',(req,res)=>{
//     const params ={}
//     res.status(200).render('com.pug',params);

// })

// app.get('/contact',(req,res)=>{
//     // const params ={}
//     res.status(200).render('contact.html');

// })

app.get('/contact',function(req,res) {
    //  const params ={}
         res.sendfile('./views/contact.html');
    
    })

app.post('/contact', (req,res)=>{
    var  myData = new contact(req.body);
    myData.save().then(()=>{
        res.send("this oder has been saved ")
       
     })
    
 })
 
app.listen(port,() => {
    console.log(`the application started successfuly on port${port}`);
})
    </script>

</body>
</html>
